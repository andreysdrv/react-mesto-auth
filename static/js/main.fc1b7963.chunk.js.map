{"version":3,"sources":["components/Info.js","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/ImagePopup.js","utils/api.js","components/Form.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ProtectedRoute.js","components/Login.js","components/Rigister.js","utils/auth.js","components/InfoTooltip.js","images/success.svg","images/unsuccess.svg","components/App.js","reportWebVitals.js","index.js"],"names":["Info","loggedIn","email","onSignOut","className","to","onClick","withRouter","location","useLocation","pathname","CurrentUserContext","React","createContext","Card","props","currentUser","useContext","isOwn","card","owner","_id","isLiked","likes","some","item","cardDeleteButtonClassName","cardLikeButtonClassName","src","link","alt","name","onCardClick","type","onCardLike","length","onCardDelete","Main","onEditAvatar","onEditProfile","onAddPlace","handleCardLike","handleCardDelete","cards","avatar","about","map","Footer","PopupWithForm","title","isOpen","children","onSubmit","buttonText","onClose","imgPath","noValidate","ImagePopup","api","options","this","_url","url","_headers","headers","res","ok","json","Promise","reject","status","fetch","method","then","_checkResponse","userData","body","JSON","stringify","data","id","all","getInitialCards","getUserInfo","authorization","Form","formName","isModal","EditProfilePopup","onUpdateUser","useState","setName","description","setDescription","useEffect","e","preventDefault","placeholder","minLength","maxLength","pattern","required","value","onChange","target","EditAvatarPopup","onUpdateAvatar","avatarRef","useRef","current","ref","AddPlacePopup","setLink","ProtectedRoute","Component","component","Register","onAuth","setEmail","password","setPassword","handleChange","onRegister","BASE_URL","handleResponse","response","getContent","token","InfoTooltip","App","history","useHistory","setLoggedIn","isInfoTooltipOpen","setIsInfoTooltipOpen","text","message","setMessage","isEditProfilePopupOpen","setEditProfilePopupOpen","isAddPlacePopupOpen","setAddPlacePopupOpen","isEditAvatarPopupOpen","setEditAvatarPopupOpen","selectedCard","setSelectedCard","setCards","setCurrentUser","closeAllPopups","catch","err","console","log","jwt","localStorage","getItem","auth","push","tokenCheck","Provider","removeItem","exact","path","i","changeLikeCardStatus","newCard","state","c","delete","filter","result","success","unSuccess","setItem","setUserInfoApi","cardData","addUserCard","handleUserAvatar","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","basename","document","getElementById"],"mappings":"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","file":"static/js/main.fc1b7963.chunk.js","sourcesContent":["import { Link } from \"react-router-dom\"\r\n\r\nexport default function Info({ loggedIn, email, onSignOut }) {\r\n  return (\r\n    <div className='header__info'>\r\n      <p className='header__email'>{email}</p>\r\n      <Link\r\n        to='sign-up'\r\n        className={`header__link ${loggedIn && 'header__link_state_active'}`}\r\n        onClick={onSignOut}\r\n      >\r\n        Выйти\r\n      </Link>\r\n    </div>\r\n  )\r\n}","import Info from \"./Info\"\r\nimport React from 'react';\r\nimport { Link, withRouter, useLocation } from 'react-router-dom';\r\n\r\nfunction Header({ loggedIn, email, onSignOut }) {\r\n  const location = useLocation()\r\n  \r\n  return (\r\n    <header className=\"header\">\r\n      <div className=\"header__logo\"></div>\r\n      {\r\n        loggedIn ?\r\n        <Info email={email} loggedIn={loggedIn} onSignOut={onSignOut} /> :\r\n        (<>\r\n          {\r\n            location.pathname === '/sign-up' ? \r\n            <Link className='header__link' to='/sign-in'>Регистрация</Link> :\r\n            <Link className='header__link' to='/sign-up'>Войти</Link>\r\n          }\r\n        </>)\r\n      }\r\n    </header>\r\n  )\r\n}\r\n\r\nexport default withRouter(Header)","import React from 'react'\r\n\r\nexport const CurrentUserContext = React.createContext()","import React from 'react'\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext'\r\n\r\nfunction Card(props) {\r\n  const currentUser = React.useContext(CurrentUserContext)\r\n  const isOwn = props.card.owner._id === currentUser._id\r\n  const isLiked = props.card.likes.some((item) => item._id === currentUser._id)\r\n  const cardDeleteButtonClassName = (\r\n    `elements__remove-button ${isOwn ? '' : 'elements__remove-button_state_hidden'}`\r\n  )\r\n  const cardLikeButtonClassName  = (\r\n    `elements__like-button ${isLiked ? 'elements__like-button_active' : ''}`\r\n  )\r\n\r\n  function handleCardClick() {\r\n    props.onCardClick(props.card)\r\n  }\r\n\r\n  function handleLikeClick() {\r\n    props.onCardLike(props.card)\r\n  }\r\n\r\n  function handleDeleteClick() {\r\n    props.onCardDelete(props.card)\r\n  }\r\n\r\n  return(\r\n    <li className=\"elements__card\">\r\n      <img\r\n        src={props.card.link}\r\n        className=\"elements__image\"\r\n        alt={props.card.name}\r\n        onClick={handleCardClick}\r\n      />\r\n      <div className=\"elements__title-wrapper\">\r\n        <h2 className=\"elements__title\">{props.card.name}</h2>\r\n        <div className=\"elements__like-wrapper\">\r\n          <button\r\n          type=\"button\"\r\n          className={cardLikeButtonClassName}\r\n          onClick={handleLikeClick}\r\n          >\r\n          </button>\r\n          <span className=\"elements__like-count\">{props.card.likes.length}</span>\r\n        </div>\r\n      </div>\r\n      <button\r\n      className={cardDeleteButtonClassName}\r\n      onClick={handleDeleteClick}\r\n      >\r\n      </button>\r\n    </li>\r\n  )\r\n}\r\n\r\nexport default Card","import React from 'react'\r\nimport Card from './Card'\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext'\r\n\r\nfunction Main({onEditAvatar, onEditProfile, onAddPlace, onCardClick, handleCardLike, handleCardDelete, cards}) {\r\n  const currentUser = React.useContext(CurrentUserContext)\r\n\r\n  return (\r\n    <main className=\"main\">\r\n      <section className=\"profile\">\r\n        <div className=\"profile__avatar-wrapper\">\r\n          <img\r\n            src={currentUser.avatar}\r\n            alt=\"Изображение профиля\"\r\n            className=\"profile__avatar\"\r\n          />\r\n          <button\r\n            type=\"button\"\r\n            className=\"profile__avatar-edit-button\"\r\n            onClick={onEditAvatar}\r\n          >\r\n          </button>\r\n        </div>\r\n        <div className=\"profile__info\">\r\n          <div className=\"profile__container\">\r\n            <h1 className=\"profile__name\">{currentUser.name}</h1>\r\n            <button\r\n              type=\"button\"\r\n              className=\"profile__edit-button\"\r\n              onClick={onEditProfile}\r\n            >\r\n            </button>\r\n          </div>\r\n          <h2 className=\"profile__about\">{currentUser.about}</h2>\r\n        </div>\r\n        <button\r\n          type=\"button\"\r\n          className=\"profile__add-button\"\r\n          onClick={onAddPlace}\r\n        >\r\n        </button>\r\n      </section>\r\n      <section className=\"elements-container\">\r\n        <ul className=\"elements\">\r\n          {\r\n            cards.map((card) => (<Card key={card._id}\r\n            card={card}\r\n            onCardClick={onCardClick}\r\n            onCardLike={handleCardLike}\r\n            onCardDelete={handleCardDelete}\r\n            />))\r\n          }\r\n        </ul>\r\n      </section>\r\n    </main>\r\n  )\r\n}\r\n\r\nexport default Main","import { useLocation } from 'react-router-dom';\r\n\r\nfunction Footer() {\r\n  const location = useLocation()\r\n\r\n  return (\r\n    <>\r\n      {\r\n        location.pathname === '/sign-up' ?\r\n        (<></>) :\r\n          location.pathname === '/sign-in' ?\r\n            (<></>)\r\n           :\r\n          (<footer className=\"footer\">\r\n            <p className=\"footer__copyrights\">&copy; 2021 Mesto Russia</p>\r\n          </footer>)\r\n      }\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Footer","\r\nfunction PopupWithForm({ name, title, isOpen, children, onSubmit, buttonText, onClose, imgPath }) {\r\n  return (\r\n    <div className={`popup ${isOpen ? 'popup_opened' : ''}`}>\r\n      <div className=\"popup__container popup__overlay\">\r\n        <form\r\n          className={`popup__form ${name === 'tooltip' ? 'popup__form_type_tooltip' : ''}`}\r\n          name={name}\r\n          noValidate\r\n          onSubmit={onSubmit}\r\n        >\r\n          {\r\n            name === 'tooltip' && \r\n              (<img\r\n                src={imgPath}\r\n                alt={name}\r\n                className='popup__tooltip'\r\n              />)\r\n          }\r\n          <h2 className={`popup__title ${name === 'tooltip' ? 'popup__title_type_tooltip' : ''}`}>{title}</h2>\r\n          {children}\r\n          <button\r\n            type=\"submit\"\r\n            className={`popup__button ${name === 'tooltip' ? 'popup__button_hidden' : ''}`}\r\n          >\r\n            {buttonText}\r\n          </button>\r\n        </form>\r\n        <button\r\n          type=\"button\"\r\n          className=\"popup__close-button\"\r\n          onClick={onClose}\r\n        >\r\n        </button>\r\n      </div>  \r\n    </div>\r\n  )\r\n}\r\n\r\nexport default PopupWithForm","function ImagePopup(props) {\r\n  \r\n  return (\r\n    <div className={`popup popup_zoom-image ${props.card ? 'popup_opened' : ''}`}>\r\n      <div className=\"popup__figure-container popup__overlay\">\r\n        <figure className=\"popup__figure\">\r\n          <img\r\n            src={props.card ? props.card.link : '#'}\r\n            className=\"popup__image\"\r\n            alt={props.card ? props.card.name : ''}\r\n          />\r\n          <figcaption\r\n            className=\"popup__caption\">\r\n              {props.card ? props.card.name : ''}\r\n          </figcaption>\r\n        </figure>\r\n        <button\r\n          type=\"button\"\r\n          className=\"popup__close-button popup__close-button_zoom-image\"\r\n          onClick={props.onClose}\r\n        >\r\n        </button>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ImagePopup","class Api {\r\n  constructor(options) {\r\n    this._url = options.url\r\n    this._headers = options.headers\r\n  }\r\n\r\n  _checkResponse(res) {\r\n    if (res.ok) {\r\n      return res.json()\r\n    }\r\n    return Promise.reject(`Ошибка: ${res.status}`)\r\n  }\r\n\r\n  getUserInfo() {\r\n    return fetch(this._url + '/users/me', {\r\n      method: 'GET',\r\n      headers: this._headers\r\n    })\r\n      .then(this._checkResponse)\r\n  }\r\n\r\n  getInitialCards() {\r\n    return fetch(this._url + '/cards', {\r\n      method: 'GET',\r\n      headers: this._headers\r\n    })\r\n    .then(this._checkResponse)\r\n  }\r\n\r\n  setUserInfoApi(userData) {\r\n    return fetch(this._url + '/users/me', {\r\n      method: 'PATCH',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name: userData.name,\r\n        about: userData.about\r\n      })\r\n    })\r\n    .then(this._checkResponse)\r\n  }\r\n\r\n  addUserCard(data) {\r\n    return fetch(this._url + '/cards', {\r\n      method: 'POST',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name: data.name,\r\n        link: data.link\r\n      })\r\n    })\r\n    .then(this._checkResponse)\r\n  }\r\n\r\n  changeLikeCardStatus(id, isLiked) {\r\n    return fetch(this._url + `/cards/likes/${id}`, {\r\n      method: `${isLiked ? 'PUT' : 'DELETE'}`,\r\n      headers: this._headers\r\n    })\r\n    .then(this._checkResponse)\r\n  }\r\n\r\n  delete(id) {\r\n    return fetch(this._url + `/cards/${id}`, {\r\n      method: 'DELETE',\r\n      headers: this._headers\r\n    })\r\n    .then(this._checkResponse)\r\n  }\r\n\r\n  handleUserAvatar(data) {\r\n    return fetch(this._url + `/users/me/avatar`, {\r\n      method: 'PATCH',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        avatar: data.avatar,\r\n      })\r\n    })\r\n    .then(this._checkResponse)\r\n  }\r\n\r\n  getAllNeededData() {\r\n    return Promise.all([this.getInitialCards(), this.getUserInfo()])\r\n  }\r\n}\r\n\r\nconst api = new Api({\r\n  url: 'https://mesto.nomoreparties.co/v1/cohort-23',\r\n  headers: {\r\n    authorization: '1a04582c-c338-4c76-b689-0417388dddf2',\r\n    'Content-Type': 'application/json'\r\n  }\r\n})\r\n\r\nexport { api }","import React from 'react'\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport default function Form (\r\n{\r\n  formName,\r\n  onSubmit,\r\n  title,\r\n  children,\r\n  buttonText,\r\n  isModal,\r\n  isOpen,\r\n}) {\r\n  return (\r\n    <div className={`popup ${isModal ? (isOpen ? 'popup_opened' : '') : 'popup_type_auth'}`}>\r\n      <div className={`${isModal ? 'popup__container' : ''} popup__overlay`}>\r\n        <form\r\n          className={`popup__form ${formName === 'login' ? 'popup__form_type_auth' : (formName === 'register' ? 'popup__form_type_auth' : '')} `}\r\n          name={formName}\r\n          noValidate\r\n          onSubmit={onSubmit}\r\n        >\r\n          <h2 className={`popup__title popup__title_type_${isModal ? '' : 'auth'}`}>{title}</h2>\r\n            {children}\r\n          <button\r\n            type=\"submit\"\r\n            className={`popup__button popup__button_type_${isModal ? '' : 'auth'}`}\r\n          >\r\n            {buttonText}\r\n          </button>\r\n          {\r\n            formName === 'register' &&\r\n            <Link className='popup__subtext' to='/sign-up'>Уже зарегистрированы? Войти</Link>\r\n          }\r\n        </form>\r\n      </div>\r\n    </div>\r\n  )\r\n}","import React from 'react'\r\n// import PopupWithForm from './PopupWithForm'\r\nimport Form from './Form'\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext'\r\n\r\nfunction EditProfilePopup({ isOpen, onUpdateUser, onClose }) {\r\n  const [name, setName] = React.useState('')\r\n  const [description, setDescription] = React.useState('')\r\n  const currentUser = React.useContext(CurrentUserContext)\r\n\r\n  React.useEffect(() => {\r\n    setName(currentUser.name)\r\n    setDescription(currentUser.about)\r\n  }, [currentUser, isOpen])\r\n\r\n  function handleNameChange(e) {\r\n    setName(e.target.value)\r\n  }\r\n  \r\n  function handleDescriptionChange(e) {\r\n    setDescription(e.target.value)\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault()\r\n    onUpdateUser({\r\n      name: name,\r\n      about: description,\r\n    })\r\n  }\r\n\r\n  return (\r\n    <Form\r\n      formName='profile-edit'\r\n      onSubmit={handleSubmit}\r\n      title='Редактировать профиль'\r\n      buttonText='Сохранить'\r\n      isModal={true}\r\n      isOpen={isOpen}\r\n    >\r\n       <input\r\n        name=\"userName\"\r\n        type=\"text\"\r\n        className=\"popup__input popup__input_data_name\"\r\n        id=\"userName-input\"\r\n        placeholder=\"Имя\"\r\n        minLength=\"2\"\r\n        maxLength=\"40\" pattern=\"^[a-zA-Zа-яА-я-\\s]+$\"\r\n        required\r\n        value={name || ''}\r\n        onChange={handleNameChange}\r\n      />\r\n      <span className=\"popup__input-error userName-input-error\"></span>\r\n      <input\r\n        name=\"userAbout\"\r\n        type=\"text\"\r\n        className=\"popup__input popup__input_data_about\"\r\n        id=\"userAbout-input\"\r\n        placeholder=\"Профессия\"\r\n        minLength=\"2\"\r\n        pattern=\"^[a-zA-Zа-яА-я-\\s]+$\"\r\n        maxLength=\"200\"\r\n        required\r\n        value={description || ''}\r\n        onChange={handleDescriptionChange}\r\n      />\r\n      <span className=\"popup__input-error userAbout-input-error\"></span>\r\n      <button\r\n        type=\"button\"\r\n        className=\"popup__close-button\"\r\n        onClick={onClose}\r\n      >\r\n      </button>\r\n    </Form>\r\n    // <PopupWithForm\r\n    // name='profile-edit'\r\n    // title='Редактировать профиль'\r\n    // buttonText='Сохранить'\r\n    // isOpen={props.isOpen}\r\n    // onClose={props.onClose}\r\n    // onSubmit={handleSubmit}\r\n    // >\r\n    //   <input\r\n    //     name=\"userName\"\r\n    //     type=\"text\"\r\n    //     className=\"popup__input popup__input_data_name\"\r\n    //     id=\"userName-input\"\r\n    //     placeholder=\"Имя\"\r\n    //     minLength=\"2\"\r\n    //     maxLength=\"40\" pattern=\"^[a-zA-Zа-яА-я-\\s]+$\"\r\n    //     required\r\n    //     value={name}\r\n    //     onChange={handleNameChange}\r\n    //   />\r\n    //   <span className=\"popup__input-error userName-input-error\"></span>\r\n    //   <input\r\n    //     name=\"userAbout\"\r\n    //     type=\"text\"\r\n    //     className=\"popup__input popup__input_data_about\"\r\n    //     id=\"userAbout-input\"\r\n    //     placeholder=\"Профессия\"\r\n    //     minLength=\"2\"\r\n    //     pattern=\"^[a-zA-Zа-яА-я-\\s]+$\"\r\n    //     maxLength=\"200\"\r\n    //     required\r\n    //     value={description}\r\n    //     onChange={handleDescriptionChange}\r\n    //   />\r\n    //   <span className=\"popup__input-error userAbout-input-error\"></span>\r\n    // </PopupWithForm>    \r\n  )\r\n}\r\n\r\nexport default EditProfilePopup","import React, { useEffect } from 'react'\r\nimport Form from './Form'\r\n\r\nfunction EditAvatarPopup({ isOpen, onUpdateAvatar, onClose }) {\r\n  const avatarRef = React.useRef('')\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault()\r\n    onUpdateAvatar({\r\n      avatar: avatarRef.current.value\r\n    })\r\n  }\r\n\r\n  useEffect(() => {\r\n    avatarRef.current.value = ''\r\n  }, [isOpen])\r\n\r\n  return (\r\n    <Form\r\n      formName='profile-edit'\r\n      onSubmit={handleSubmit}\r\n      title='Редактировать профиль'\r\n      buttonText='Сохранить'\r\n      isModal={true}\r\n      isOpen={isOpen}\r\n    >\r\n      <input\r\n        name=\"userAvatar\"\r\n        type=\"url\"\r\n        className=\"popup__input popup__input_data_about\"\r\n        id=\"userAvatar-input\"\r\n        placeholder=\"Ссылка на картинку\"\r\n        required\r\n        ref={avatarRef}\r\n      />\r\n      <span className=\"popup__input-error userAvatar-input-error\"></span>\r\n      <button\r\n        type=\"button\"\r\n        className=\"popup__close-button\"\r\n        onClick={onClose}\r\n      >\r\n      </button>\r\n    </Form>\r\n  )\r\n}\r\n\r\nexport default EditAvatarPopup","import React from 'react'\r\n// import PopupWithForm from './PopupWithForm'\r\nimport Form from './Form'\r\n\r\nfunction AddPlacePopup({ isOpen, onAddPlace, onClose }) {\r\n  const [name, setName] = React.useState('')\r\n  const [link, setLink] = React.useState('')\r\n\r\n  function handleNameChange(e) {\r\n    setName(e.target.value)\r\n  }\r\n  \r\n  function handleLinkChange(e) {\r\n    setLink(e.target.value)\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault()\r\n    onAddPlace({\r\n      name: name,\r\n      link: link,\r\n    })\r\n  }\r\n\r\n  return (\r\n    <Form\r\n      name='card-add'\r\n      title='Новое место'\r\n      buttonText='Создать'\r\n      isOpen={isOpen}\r\n      onSubmit={handleSubmit}\r\n      isModal={true}\r\n    >\r\n      <input\r\n        name=\"name\"\r\n        type=\"text\"\r\n        className=\"popup__input popup__input_place_name\"\r\n        id=\"placeName-input\"\r\n        placeholder=\"Название\"\r\n        minLength=\"2\"\r\n        maxLength=\"30\"\r\n        pattern=\"^[a-zA-Zа-яА-я-\\s]+$\"\r\n        required\r\n        onChange={handleNameChange}\r\n      />\r\n      <span className=\"popup__input-error placeName-input-error\"></span>\r\n      <input\r\n        name=\"link\"\r\n        type=\"url\"\r\n        className=\"popup__input popup__input_place_url\"\r\n        id=\"placeUrl-input\"\r\n        placeholder=\"Ссылка на картинку\"\r\n        required\r\n        onChange={handleLinkChange}\r\n      />\r\n      <span className=\"popup__input-error placeUrl-input-error\"></span>\r\n      <button\r\n        type=\"button\"\r\n        className=\"popup__close-button\"\r\n        onClick={onClose}\r\n      >\r\n      </button>        \r\n    </Form>\r\n  )\r\n}\r\n\r\nexport default AddPlacePopup","import { Route, Redirect } from \"react-router-dom\"\r\n\r\nexport default function ProtectedRoute( { component: Component, ...props } ) {\r\n  return (\r\n    <Route>\r\n      {\r\n        () => (props.loggedIn ? <Component {...props} /> : <Redirect to='/sign-in' />)\r\n      }\r\n    </Route>\r\n  )\r\n}","import React from 'react'\r\nimport Form from './Form'\r\n\r\nexport default function Register({ isOpen, onAuth }) {\r\n\r\n  const [email, setEmail] = React.useState('')\r\n  const [password, setPassword] = React.useState('')\r\n\r\n  function handleChange(e) {\r\n    const {value} = e.target\r\n    e.target.name === 'Email' ? setEmail(value) : setPassword(value)\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault()\r\n    onAuth(password, email)\r\n  }\r\n\r\n  return (\r\n    <div className='login'>\r\n      <Form\r\n        formName='login'\r\n        onSubmit={handleSubmit}\r\n        title='Вход'\r\n        buttonText='Войти'\r\n        isModal={false}\r\n        isOpen={isOpen}\r\n      >\r\n        <input\r\n          name=\"Email\"\r\n          type=\"email\"\r\n          className=\"popup__input popup__input_type_login\"\r\n          id=\"email\"\r\n          placeholder=\"Email\"\r\n          minLength=\"6\"\r\n          maxLength=\"40\"\r\n          required\r\n          value={email || ''}\r\n          onChange={handleChange}\r\n        />\r\n        {/* <span className=\"popup__input-error userName-input-error\"></span> */}\r\n        <input\r\n          name=\"Password\"\r\n          type=\"password\"\r\n          className=\"popup__input popup__input_type_login\"\r\n          id=\"password\"\r\n          placeholder=\"Пароль\"\r\n          minLength=\"6\"\r\n          maxLength=\"40\"\r\n          required\r\n          value={password || ''}\r\n          onChange={handleChange}\r\n        />\r\n        {/* <span className=\"popup__input-error userAbout-input-error\"></span> */}\r\n      </Form>\r\n    </div>\r\n  )\r\n}","import React, { useState } from 'react'\r\nimport Form from './Form'\r\n\r\nexport default function Register({ isOpen, onRegister }) {\r\n\r\n  const [email, setEmail] = useState('')\r\n  const [password, setPassword] = useState('')\r\n\r\n  function handleChange(e) {\r\n    const {value} = e.target\r\n    e.target.name === 'Email' ? setEmail(value) : setPassword(value)\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault()\r\n    onRegister(password, email)\r\n  }\r\n\r\n  return (\r\n    <div className='register'>\r\n      <Form\r\n        formName='register'\r\n        onSubmit={handleSubmit}\r\n        title='Регистрация'\r\n        buttonText='Зарегистрироваться'\r\n        isModal={false}\r\n        isOpen={isOpen}\r\n      >\r\n        <input\r\n          name=\"Email\"\r\n          type=\"email\"\r\n          className=\"popup__input popup__input_type_login\"\r\n          id=\"email\"\r\n          placeholder=\"Email\"\r\n          minLength=\"6\"\r\n          maxLength=\"40\"\r\n          required\r\n          value={email || ''}\r\n          onChange={handleChange}\r\n        />\r\n        {/* <span className=\"popup__input-error userName-input-error\"></span> */}\r\n        <input\r\n          name=\"Password\"\r\n          type=\"password\"\r\n          className=\"popup__input popup__input_type_login\"\r\n          id=\"password\"\r\n          placeholder=\"Пароль\"\r\n          minLength=\"6\"\r\n          maxLength=\"40\"\r\n          required\r\n          value={password || ''}\r\n          onChange={handleChange}\r\n        />\r\n        {/* <span className=\"popup__input-error userAbout-input-error\"></span> */}\r\n      </Form>\r\n    </div>\r\n  )\r\n}","export const BASE_URL = 'https://auth.nomoreparties.co'\r\n\r\nconst handleResponse = response => response.ok ? response.json() : Promise.reject(`Ошибка ${response.status}`)\r\n\r\nexport const register = (password, email) => {\r\n  return fetch(`${BASE_URL}/signup`, {\r\n    method: 'POST',\r\n    headers: {\r\n      \"Content-Type\": \"application/json\"\r\n    },\r\n    body: JSON.stringify({password, email})\r\n  })\r\n  .then(handleResponse)\r\n}\r\n\r\nexport const authorize = (password, email) => {\r\n  return fetch(`${BASE_URL}/signin`, {\r\n    method: 'POST',\r\n    headers: {\r\n      \"Content-Type\": \"application/json\"\r\n    },\r\n    body: JSON.stringify({password, email})\r\n  })\r\n  .then(handleResponse)\r\n  .then((data) => {\r\n    if (data.token) {\r\n      localStorage.setItem('jwt', data.token)\r\n      return data.token\r\n    }\r\n  })\r\n}\r\n\r\nexport const getContent = token => {\r\n  return fetch(`${BASE_URL}/users/me`, {\r\n    method: 'GET',\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n      \"Authorization\" : `Bearer ${token}`\r\n    }\r\n  })\r\n  .then(handleResponse)\r\n  // .then(res => console.log(res))\r\n}","import PopupWithForm from \"./PopupWithForm\"\r\n\r\nexport default function InfoTooltip({ isOpen, onClose, name, title, imgPath }) {\r\n  return (\r\n    <PopupWithForm\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      name={name}\r\n      title={title}\r\n      imgPath={imgPath}\r\n    >\r\n    </PopupWithForm>\r\n  )\r\n}","export default __webpack_public_path__ + \"static/media/success.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/unsuccess.df8eddf6.svg\";","import React, { useState, useEffect } from 'react'\r\nimport { Route, Switch, useHistory } from 'react-router-dom'\r\nimport Header from './Header'\r\nimport Main from './Main'\r\nimport Footer from './Footer'\r\nimport PopupWithForm from './PopupWithForm'\r\nimport ImagePopup from './ImagePopup'\r\nimport { api } from '../utils/api'\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext'\r\nimport EditProfilePopup from './EditProfilePopup'\r\nimport EditAvatarPopup from './EditAvatarPopup'\r\nimport AddPlacePopup from './AddPlacePopup'\r\nimport ProtectedRoute from './ProtectedRoute';\r\nimport Login from './Login'\r\nimport Register from './Rigister'\r\nimport * as auth from '../utils/auth'\r\nimport InfoTooltip from './InfoTooltip'\r\nimport success from '../images/success.svg'\r\nimport unSuccess from '../images/unsuccess.svg'\r\n\r\n\r\nfunction App() {\r\n  const history = useHistory()\r\n\r\n  const [loggedIn, setLoggedIn] = useState(false)\r\n  const [isInfoTooltipOpen, setIsInfoTooltipOpen] = useState(false)\r\n  const [message, setMessage] = useState({ imgPath: '', text: '' })\r\n  \r\n  const [email, setEmail] = useState('')\r\n\r\n  const [isEditProfilePopupOpen, setEditProfilePopupOpen] = useState(false)\r\n  const [isAddPlacePopupOpen, setAddPlacePopupOpen] = useState(false)\r\n  const [isEditAvatarPopupOpen, setEditAvatarPopupOpen] = useState(false)\r\n  const [selectedCard, setSelectedCard] = useState(null)\r\n  const [cards, setCards] = useState([])\r\n  const [currentUser, setCurrentUser] = useState({})\r\n\r\n  function handleEditAvatarClick() {\r\n    setEditAvatarPopupOpen(true)\r\n  }\r\n\r\n  function handleEditProfileClick() {\r\n    setEditProfilePopupOpen(true)\r\n  }\r\n\r\n  function handleAddPlaceClick() {\r\n    setAddPlacePopupOpen(true)\r\n  }\r\n\r\n  function closeAllPopups() {\r\n    setEditAvatarPopupOpen(false)\r\n    setEditProfilePopupOpen(false)\r\n    setAddPlacePopupOpen(false)\r\n    setSelectedCard(null)\r\n    setIsInfoTooltipOpen(false)\r\n  }\r\n\r\n  function onCardClick(card) {\r\n    setSelectedCard(card)\r\n  }\r\n\r\n  function onUpdateUser(userData) {\r\n    api.setUserInfoApi(userData)\r\n      .then((data) => {\r\n        setCurrentUser(data)\r\n        closeAllPopups()\r\n      })\r\n      .catch((err) => console.log(err))\r\n  }\r\n\r\n  function onUpdateAvatar(userData) {\r\n    api.handleUserAvatar(userData)\r\n      .then((data) => {\r\n        setCurrentUser(data)\r\n        closeAllPopups()\r\n      })\r\n      .catch((err) => console.log(err))\r\n  }\r\n\r\n  function handleCardLike(card) {\r\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\r\n    api.changeLikeCardStatus(card._id, !isLiked)\r\n      .then((newCard) => {\r\n        setCards((state) => state.map((c) => c._id === card._id ? newCard : c))\r\n      })\r\n      .catch((err) => console.log(err))\r\n  }\r\n\r\n  function handleCardDelete(card) {\r\n    api.delete(card._id)\r\n      .then(() => {\r\n        setCards(cards => cards.filter((item) => item !== card))\r\n      })\r\n      .catch((err) => console.log(err))\r\n  }\r\n\r\n  function handleAddPlaceSubmit(cardData) {\r\n    api.addUserCard(cardData)\r\n      .then((newCard) => {\r\n        setCards([newCard, ...cards])\r\n        closeAllPopups()\r\n      })\r\n      .catch((err) => console.log(err))\r\n  }\r\n\r\n  useEffect(() => {\r\n    api.getInitialCards()\r\n      .then((data) => {\r\n        setCards(data)\r\n      })\r\n      .catch((err) => console.log(err))\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    api.getUserInfo()\r\n      .then((data) => {\r\n        setCurrentUser(data)\r\n      })\r\n      .catch((err) => console.log(err))\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    tokenCheck()\r\n  })\r\n\r\n  function tokenCheck() {\r\n    const jwt = localStorage.getItem('jwt')\r\n\r\n    if(jwt) {\r\n      auth.getContent(jwt)\r\n        .then((res) => {\r\n          if(res) {\r\n            setLoggedIn(true)\r\n            setEmail(res.data.email)\r\n          }\r\n        })\r\n        history.push('/')\r\n    }\r\n  }\r\n\r\n  function handleRegistration(password, email) {\r\n    auth.register(password, email)\r\n      .then((result) => {\r\n        setEmail(result.data.email)\r\n        setMessage({ imgPath: success, text: 'Вы успешно зарегистрировались!' })\r\n        setIsInfoTooltipOpen(true)\r\n      })\r\n      .catch(() => setMessage({ imgPath: unSuccess, text: 'Что-то пошло не так! Попробуйте ещё раз.' }))\r\n      setIsInfoTooltipOpen(true)\r\n  }\r\n\r\n  function handleAuth(password, email) {\r\n    auth.authorize(password, email)\r\n      .then((token) => {\r\n        auth.getContent(token)\r\n          .then((res) => {\r\n            setEmail(res.data.email)\r\n            setLoggedIn(true)\r\n          })\r\n      })\r\n      .catch((err) => console.log(err))\r\n  }\r\n\r\n  function onSignOut() {\r\n    localStorage.removeItem('jwt')\r\n    setLoggedIn(false)\r\n  }\r\n\r\n  return (\r\n    <CurrentUserContext.Provider value={currentUser || ''}>\r\n      <div className=\"page\">\r\n        <Header\r\n          loggedIn={loggedIn}\r\n          email={email}\r\n          onSignOut={onSignOut}\r\n        />\r\n        <Switch>\r\n          <ProtectedRoute\r\n            exact path='/'\r\n            loggedIn={loggedIn}\r\n            component={Main}\r\n            onEditAvatar={handleEditAvatarClick}\r\n            onEditProfile={handleEditProfileClick}\r\n            onAddPlace={handleAddPlaceClick}\r\n            onCardClick={onCardClick}\r\n            handleCardLike={handleCardLike}\r\n            handleCardDelete={handleCardDelete}\r\n            cards={cards}\r\n          />\r\n          <Route path='/sign-in'>\r\n            <Register\r\n              isOpen={isEditProfilePopupOpen}\r\n              onRegister={handleRegistration}\r\n              isInfoTooltipOpen={isInfoTooltipOpen}\r\n            />\r\n          </Route>\r\n          <Route path='/sign-up'>\r\n            <Login\r\n              isOpen={isEditProfilePopupOpen}\r\n              onAuth={handleAuth}\r\n            />\r\n          </Route>\r\n        </Switch>\r\n        <Footer />\r\n        <InfoTooltip\r\n          name='tooltip'\r\n          isOpen={isInfoTooltipOpen}\r\n          onClose={closeAllPopups}\r\n          title={message.text}\r\n          imgPath={message.imgPath}\r\n        />\r\n        <EditProfilePopup\r\n          isOpen={isEditProfilePopupOpen}\r\n          onClose={closeAllPopups}\r\n          onUpdateUser={onUpdateUser}\r\n        />\r\n        <AddPlacePopup\r\n          isOpen={isAddPlacePopupOpen}\r\n          onClose={closeAllPopups}        \r\n          onAddPlace={handleAddPlaceSubmit}\r\n        />\r\n        <EditAvatarPopup\r\n          isOpen={isEditAvatarPopupOpen}\r\n          onClose={closeAllPopups}\r\n          onUpdateAvatar={onUpdateAvatar}\r\n        />\r\n        <PopupWithForm\r\n          name='confirm-delete'\r\n          title='Вы уверены?'\r\n          buttonText='Да'\r\n        />\r\n        <ImagePopup\r\n          card={selectedCard}\r\n          onClose={closeAllPopups}\r\n        />\r\n      </div>\r\n    </CurrentUserContext.Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './components/App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport { BrowserRouter } from 'react-router-dom';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <BrowserRouter basename='/'>\r\n      <App />\r\n    </BrowserRouter>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}